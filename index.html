<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>VLearn — Sneak Peek</title>
<link rel="icon" type="image/png" href="Logo.png">
<style>
  :root{
    --bg: #e6f5ff;
    --fg: #003a66;
    --accent: #00aaff;
    --muted: rgba(0,0,0,0.45);
    --font-sans: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    --font-display: "Merriweather", serif;
  }
  html,body{ height:100%; margin:0; padding:0; }
  body{ font-family:var(--font-sans); background:var(--bg); color:var(--fg); overflow:hidden; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

  .app{ height:100vh; width:100vw; position:relative; }

  .screen{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; flex-direction:column; text-align:center; z-index:5; }
  .hidden{ display:none !important; }

  /* Loading */
  .loader-card{ width:86%; max-width:780px; padding:24px; border-radius:14px; backdrop-filter: blur(6px); background:rgba(255,255,255,0.72); box-shadow:0 18px 36px rgba(2,6,23,0.12); }
  .logo-title{ font-family:var(--font-display); font-size:26px; color:var(--fg); margin:0 0 8px; }
  .loader-sub{ color:var(--muted); font-size:14px; margin-bottom:12px; }
  .loader-bar{ width:100%; height:12px; background:#e6f3fb; border-radius:8px; overflow:hidden; }
  .loader-bar .fill{ width:0; height:100%; background:linear-gradient(90deg,var(--accent), #7edbff); animation:fillAnim 4s linear forwards; border-radius:8px; }
  @keyframes fillAnim { from{width:0} to{width:100%} }

  /* Theme button and panel */
  .theme-btn{ position:fixed; top:14px; right:14px; z-index:80; background:rgba(0,0,0,0.56); color:#fff; border:0; padding:10px 12px; border-radius:10px; cursor:pointer; display:flex; gap:8px; align-items:center; font-weight:700; }
  .theme-panel{ position:fixed; top:56px; right:14px; z-index:85; display:none; background:#fff; color:#111; border-radius:10px; padding:10px; box-shadow:0 12px 28px rgba(2,6,23,0.2); min-width:200px; }
  .theme-panel button{ display:block; width:100%; padding:8px; border:0; background:transparent; text-align:left; cursor:pointer; font-weight:700; border-radius:6px; margin:4px 0; }
  .theme-panel button:hover{ background:rgba(0,0,0,0.04); }

  /* Welcome */
  .welcome-wrap{ width:94%; max-width:1100px; padding:22px; border-radius:12px; background:rgba(255,255,255,0.72); backdrop-filter:blur(6px); box-shadow:0 18px 36px rgba(2,6,23,0.08); }
  .welcome-lines{ font-family:var(--font-display); font-size:44px; color:var(--fg); line-height:0.96; letter-spacing:0.4px; display:inline-block; }
  .copyright{ position:fixed; bottom:18px; left:50%; transform:translateX(-50%); font-size:13px; color:var(--muted); z-index:70; }

  .letter{ display:inline-block; opacity:0; transform:translate3d(0,0,0) rotate(0deg); transition: transform 850ms cubic-bezier(.2,.8,.2,1), opacity 450ms ease-in-out; will-change:transform,opacity; color:var(--fg); }

  /* Rickroll */
  #rick{ background:#000; }
  #rick video{ width:100%; height:100%; object-fit:cover; }

  /* Space & stars */
  #space{ position:relative; inset:0; width:100%; height:100%; background:#000; color:#fff; overflow:hidden; display:flex; align-items:center; justify-content:center; }
  canvas#stars{ position:absolute; inset:0; width:100%; height:100%; z-index:10; display:block; }
  .glitch-bg{ position:absolute; inset:0; z-index:6; background: linear-gradient(120deg,#000,#ff0022,#fff,#00f7ff); background-size:400% 400%; animation:glow 8s linear infinite; opacity:0.9; mix-blend-mode:screen; }
  @keyframes glow{ 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }

  /* Centered menu card (now large, no scale animation) */
  .menu-wrap{ position:relative; z-index:20; width:100%; height:100%; display:flex; align-items:center; justify-content:center; }
  .menu-card{ width:90%; max-width:1200px; text-align:center; padding:36px; border-radius:14px; transform-origin:center center; transform:scale(1); transition:none; background:rgba(0,0,0,0.36); }
  .coming-title{ font-family:var(--font-display); font-size:140px; color:#fff; margin:0; text-shadow:0 10px 30px rgba(0,0,0,0.6); line-height:0.9; }

  @media (max-width:1200px){
    .coming-title{ font-size:96px; }
  }
  @media (max-width:720px){
    .welcome-lines{ font-size:28px; }
    .coming-title{ font-size:44px; }
    .menu-card{ padding:18px; }
    .loader-card{ padding:14px; }
    .theme-panel{ right:8px; min-width:160px; }
  }

  /* theme classes (affect welcome color and base UI) */
  .theme-dark{ --bg:#000; --fg:#bfefff; --accent:#6ee7ff; }
  .theme-light{ --bg:#fff; --fg:#003a66; --accent:#0077cc; }
  .theme-retro{ --bg:#001a33; --fg:#fff; --accent:#66ffff; font-family:'Courier New',monospace; }
  .theme-radio{ --bg:#d6ff7a; --fg:#2f7f00; --accent:#6bd400; }
  .theme-lava{ --bg: linear-gradient(180deg,#ffd84d,#ff7a00); --fg:#6b0000; --accent:#ff6a00; }
  .theme-sgs{ --bg: linear-gradient(180deg,#061235,#0b2b45); --fg:#fff; --accent:#ffb86b; }
  .theme-glitch{ --bg:#050406; --fg:#e6f7ff; --accent:#00ffff; }
</style>
</head>
<body>
<div id="app" class="app theme-light" aria-live="polite">
  <!-- Theme control -->
  <button class="theme-btn" id="themeBtn">Theme</button>
  <div class="theme-panel" id="themePanel" role="dialog" aria-hidden="true">
    <div style="font-weight:800;margin-bottom:6px;">Choose theme</div>
    <button data-theme="theme-dark">Dark</button>
    <button data-theme="theme-light">Light</button>
    <button data-theme="theme-retro">Retro DOS</button>
    <button data-theme="theme-radio">Radioactive</button>
    <button data-theme="theme-lava">Lava</button>
    <button data-theme="theme-glitch">Glitched</button>
    <button data-theme="theme-sgs">SGS</button>
  </div>

  <!-- Loading screen -->
  <section id="loading" class="screen" aria-hidden="false">
    <div class="loader-card" role="status">
      <div class="logo-title">VLearn</div>
      <div class="loader-sub">Loading the VLearn Directory — please wait</div>
      <div class="loader-bar" aria-hidden="true"><div class="fill"></div></div>
      <div class="loader-meta">Preparing answers • Aligning chapters • Applying finishing touches</div>
    </div>
  </section>

  <!-- Welcome screen -->
  <section id="welcome" class="screen hidden" aria-hidden="true">
    <div class="welcome-wrap"><div id="welcomeLines" class="welcome-lines"></div></div>
    <div class="copyright">©TREDT Publications Studios 2025 - 2026</div>
  </section>

  <!-- Rickroll -->
  <section id="rick" class="screen hidden" aria-hidden="true">
    <video id="rickVideo" src="rickroll.mp4" playsinline preload="auto"></video>
  </section>

  <!-- Space + starfield + center Coming Soon -->
  <section id="space" class="screen hidden" aria-hidden="true">
    <div id="glitchBg" class="glitch-bg" style="display:none;"></div>
    <canvas id="stars"></canvas>

    <div class="menu-wrap">
      <div class="menu-card" id="menuCard" aria-hidden="true">
        <h1 class="coming-title" id="centerComing">COMING SOON</h1>
        <p style="color:rgba(255,255,255,0.85); margin-top:12px; font-weight:600;">VLearn Directory — Site launching soon.</p>
      </div>
    </div>
  </section>
</div>

<script>
(function(){
  const app = document.getElementById('app');
  const loading = document.getElementById('loading');
  const welcome = document.getElementById('welcome');
  const rick = document.getElementById('rick');
  const space = document.getElementById('space');
  const menuCard = document.getElementById('menuCard');
  const welcomeLines = document.getElementById('welcomeLines');
  const rickVideo = document.getElementById('rickVideo');
  const themeBtn = document.getElementById('themeBtn');
  const themePanel = document.getElementById('themePanel');
  const glitchBg = document.getElementById('glitchBg');

  const welcomeText = "WELCOME TO THE\nVLEARN\nAN DIRECTORY FOR ALL CBSE CLASS X ANSWERS";

  /* Welcome letter setup and animation */
  function setupWelcome(){
    welcomeLines.innerHTML = '';
    const lines = welcomeText.split('\n');
    lines.forEach((ln, li) => {
      const row = document.createElement('div');
      row.style.display = 'block';
      row.style.margin = (li===1 ? '6px 0 0 0' : '0');
      for(let i=0;i<ln.length;i++){
        const ch = ln[i] === ' ' ? '\u00A0' : ln[i];
        const sp = document.createElement('span');
        sp.className = 'letter';
        sp.textContent = ch;
        const rx = Math.floor(Math.random()*420)-210;
        const ry = Math.floor(Math.random()*360)-180;
        const rr = Math.floor(Math.random()*120)-60;
        sp.style.transform = `translate3d(${rx}px, ${ry}px, 0) rotate(${rr}deg)`;
        sp.style.opacity = '0';
        sp.style.transitionDelay = `${Math.random()*650}ms`;
        row.appendChild(sp);
      }
      welcomeLines.appendChild(row);
    });
  }

  function animateWelcomeIn(){
    const letters = welcome.querySelectorAll('.letter');
    letters.forEach((el, idx)=>{
      setTimeout(()=> {
        el.style.transform = 'translate3d(0,0,0) rotate(0deg)';
        el.style.opacity = '1';
      }, 20 * idx);
    });
  }

  /* Starfield engine: increased density for more dots */
  let starStop = null;
  const themeCfg = {
    'theme-dark':   { bg:'#000000', dot:'#ffffff', moving:true, retro:false },
    'theme-light':  { bg:'#ffffff', dot:'#001f3f', moving:true, retro:false },
    'theme-retro':  { bg:'#001a33', dot:'#ffffff', moving:true, retro:true }, // slow (~5fps)
    'theme-radio':  { bg:'#d6ff7a', dot:'#2f7f00', moving:true, retro:false },
    'theme-lava':   { bg:'#ffd84d', dot:'#6b0000', moving:true, retro:false },
    'theme-glitch': { bg:'glitch', dotNeg:['#ffffff','#00ffff','#000000','#ff0000'], moving:false, flicker:true },
    'theme-sgs':    { bg:'#061235', dot:'#ff8a3d', moving:true, retro:false }
  };
  let currentTheme = 'theme-light';

  function configureSpaceBg(theme){
    const cfg = themeCfg[theme] || themeCfg['theme-light'];
    if(cfg.bg === 'glitch'){ glitchBg.style.display = 'block'; space.style.background = '#000'; }
    else { glitchBg.style.display = 'none'; space.style.background = cfg.bg; }
  }

  function startStars(){
    stopStars();
    const cfg = themeCfg[currentTheme] || themeCfg['theme-light'];
    configureSpaceBg(currentTheme);

    const c = document.getElementById('stars');
    c.width = window.innerWidth; c.height = window.innerHeight;
    const ctx = c.getContext('2d');
    ctx.clearRect(0,0,c.width,c.height);

    // INCREASED DENSITY: divide by smaller number => more stars
    const density = Math.max(120, Math.floor((c.width*c.height)/10000)); // more dots

    const stars = [];
    if(cfg.flicker && Array.isArray(cfg.dotNeg)){
      for(let i=0;i<density;i++){
        stars.push({ x:Math.random()*c.width, y:Math.random()*c.height, r:Math.random()*2+0.6, color: cfg.dotNeg[Math.floor(Math.random()*cfg.dotNeg.length)], delay: Math.random()*1200 });
      }
      let raf;
      function loop(t){
        ctx.clearRect(0,0,c.width,c.height);
        stars.forEach(s=>{
          const v = Math.abs(Math.sin((t + s.delay)*0.004 + s.r));
          if(v>0.6){
            ctx.fillStyle = s.color;
            ctx.beginPath(); ctx.arc(s.x,s.y,s.r,0,Math.PI*2); ctx.fill();
          }
        });
        raf = requestAnimationFrame(loop);
      }
      raf = requestAnimationFrame(loop);
      starStop = ()=>{ cancelAnimationFrame(raf); ctx.clearRect(0,0,c.width,c.height); };
      window.addEventListener('resize', () => { c.width=window.innerWidth; c.height=window.innerHeight; });
    } else if(cfg.retro){
      for(let i=0;i<density;i++){
        stars.push({ x:Math.random()*c.width, y:Math.random()*c.height, r:Math.random()*1.6+0.4 });
      }
      const id = setInterval(()=>{
        ctx.clearRect(0,0,c.width,c.height);
        stars.forEach(s=>{
          s.x += (Math.random()-0.5)*3;
          s.y += (Math.random()-0.5)*3;
          if(s.x<0) s.x=c.width; if(s.x>c.width) s.x=0;
          if(s.y<0) s.y=c.height; if(s.y>c.height) s.y=0;
          ctx.fillStyle = cfg.dot;
          ctx.beginPath(); ctx.arc(s.x,s.y,s.r,0,Math.PI*2); ctx.fill();
        });
      }, 200); // ~5 fps
      starStop = ()=>{ clearInterval(id); ctx.clearRect(0,0,c.width,c.height); };
      window.addEventListener('resize', () => { c.width=window.innerWidth; c.height=window.innerHeight; });
    } else {
      for(let i=0;i<density;i++){
        stars.push({ x:Math.random()*c.width, y:Math.random()*c.height, r:Math.random()*1.6+0.3, vx:(Math.random()*0.6-0.3)*(0.8+(Math.random())), vy:(Math.random()*0.6-0.3)*(0.8+(Math.random())), alpha:Math.random()*0.7+0.2, color:cfg.dot });
      }
      let raf;
      function loop(){
        ctx.clearRect(0,0,c.width,c.height);
        stars.forEach(s=>{
          s.x += s.vx; s.y += s.vy;
          if(s.x<0) s.x=c.width; if(s.x>c.width) s.x=0;
          if(s.y<0) s.y=c.height; if(s.y>c.height) s.y=0;
          ctx.globalAlpha = s.alpha;
          ctx.fillStyle = s.color;
          ctx.beginPath(); ctx.arc(s.x,s.y,s.r,0,Math.PI*2); ctx.fill();
        });
        ctx.globalAlpha = 1;
        raf = requestAnimationFrame(loop);
      }
      raf = requestAnimationFrame(loop);
      starStop = ()=>{ cancelAnimationFrame(raf); ctx.clearRect(0,0,c.width,c.height); };
      window.addEventListener('resize', () => { c.width=window.innerWidth; c.height=window.innerHeight; });
    }
  }

  function stopStars(){ if(typeof starStop === 'function'){ try{ starStop(); }catch(e){} starStop = null; } }

  /* Theme controls */
  themeBtn.addEventListener('click',(e)=>{ e.stopPropagation(); themePanel.style.display = themePanel.style.display === 'block' ? 'none' : 'block'; });
  document.addEventListener('click',(e)=>{ if(themePanel.style.display === 'block' && !themePanel.contains(e.target) && e.target !== themeBtn) themePanel.style.display='none'; });
  document.querySelectorAll('.theme-panel button').forEach(b=>{ b.addEventListener('click', ()=> setTheme(b.getAttribute('data-theme'))); });

  function applyPerLetterGlitch(){
    const palette = ['#00FFFF','#00C4FF','#FF006E','#FFFFFF','#00FFAA','#00A6FF'];
    const letters = welcome.querySelectorAll('.letter');
    letters.forEach(l=>{ l.classList.add('glitch-letter'); l.style.color = palette[Math.floor(Math.random()*palette.length)]; l.style.animationDelay = `${Math.random()*1.2}s`; });
  }
  function clearPerLetterGlitch(){
    const letters = welcome.querySelectorAll('.letter');
    letters.forEach(l=>{ l.classList.remove('glitch-letter'); l.style.color=''; l.style.animationDelay=''; });
  }

  function setTheme(name){
    app.className = app.className.split(' ').filter(c=>!c.startsWith('theme-')).join(' ');
    app.classList.add(name);
    currentTheme = name;
    if(name === 'theme-glitch') applyPerLetterGlitch(); else clearPerLetterGlitch();
    if(!space.classList.contains('hidden')){ restartStars(); } else { configureSpaceBg(name); }
    themePanel.style.display = 'none';
  }

  function configureSpaceBg(theme){
    const cfg = themeCfg[theme] || themeCfg['theme-light'];
    if(cfg.bg === 'glitch'){ glitchBg.style.display = 'block'; space.style.background = '#000'; }
    else { glitchBg.style.display = 'none'; space.style.background = cfg.bg; }
  }

  function restartStars(){ stopStars(); startStars(); }

  // Sequence
  setupWelcome();
  loading.classList.remove('hidden');
  welcome.classList.add('hidden');
  rick.classList.add('hidden');
  space.classList.add('hidden');

  setTimeout(()=>{
    loading.classList.add('hidden');
    welcome.classList.remove('hidden');
    setTimeout(()=> { animateWelcomeIn(); if(app.classList.contains('theme-glitch')) applyPerLetterGlitch(); }, 80);
  }, 4000);

  setTimeout(()=>{
    welcome.classList.add('hidden');
    rick.classList.remove('hidden');
    (async ()=>{ try{ await rickVideo.play(); }catch(e){ try{ rickVideo.muted=true; await rickVideo.play(); }catch(e){} }})();
  }, 8000);

  setTimeout(()=>{
    try{ rickVideo.pause(); rickVideo.currentTime = 0; }catch(e){}
    rick.classList.add('hidden');
    space.classList.remove('hidden');

    configureSpaceBg(currentTheme);
    startStars();

    // show large Coming Soon immediately (no animation)
    menuCard.classList.remove('show');
    menuCard.style.transform = 'scale(1)';
  }, 11000);

  // default initial theme
  setTheme('theme-light');

  // hide panel on Esc
  document.addEventListener('keydown', e=> { if(e.key==='Escape') themePanel.style.display='none'; });
  window.addEventListener('beforeunload', ()=> stopStars());
})();
</script>
</body>
</html>

